<article class="post reveal <%= (post.title) ? "" : "no-title" %>">
    <section class="meta">
      <% if(post.music && !post.music.internal){ %>
        <div class="aplayer" data-mini=true
          data-mode="circulation" data-volume="0.5"
          data-server="<%= post.music.server %>"
          data-type="<%= post.music.type %>"
          data-id="<%= post.music.id %>">
        </div>
      <% } %>
        <h2 class="title">
            <a href="<%- url_for(post.path) %>">
                <% if(post.title){ %>
                    <%= post.title %>
                <% } else if (post.date) { %>
                    <%= date(post.date, config.date_format) %>
                <% } %>
            </a>
        </h2>
        <time class="time">
            <i class="fas fa-calendar-alt fa-fw" aria-hidden="true"></i>&nbsp;<%= date(post.date, config.date_format) %>
        </time>
        <%- partial('categories',{post:post}) %>
    </section>

    <section class="article typo">
        <%- post.excerpt || post.description || post.content %>
        <% if (post.excerpt || post.description) { %>
            <div class="readmore">
                <a href="<%- url_for(post.path) %>" class="flat-box">
                    <i class="fas fa-book-open fa-fw" aria-hidden="true"></i>
                    阅读全文
                </a>
            </div>
        <% } %>

        <% if (post.tags && post.tags.length) { %>
            <div class="full-width auto-padding tags">
                <% post.tags.each(function(item){ %>
                    <a href="<%- url_for(item.path) %>"><i class="fas fa-tag fa-fw"></i>&nbsp;<%=item.name %></a>
                <%})%>
            </div>
        <% } %>
    </section>
</article>
<!-- 在摘要部分加载 MathJax 数学公式js -->
<% if (theme.abstract_mathjax){ %>
    <%- partial('mathjax') %>
<% } %>
